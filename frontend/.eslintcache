[{"D:\\Thực tập\\Fruit2\\frontend\\src\\index.js":"1","D:\\Thực tập\\Fruit2\\frontend\\src\\store.js":"2","D:\\Thực tập\\Fruit2\\frontend\\src\\App.js":"3","D:\\Thực tập\\Fruit2\\frontend\\src\\reducers\\orderReducers.js":"4","D:\\Thực tập\\Fruit2\\frontend\\src\\reducers\\productReducers.js":"5","D:\\Thực tập\\Fruit2\\frontend\\src\\reducers\\userReducers.js":"6","D:\\Thực tập\\Fruit2\\frontend\\src\\reducers\\cartReducers.js":"7","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\cart\\Payment.js":"8","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\Home.js":"9","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\cart\\ConfirmOrder.js":"10","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\cart\\OrderSuccess.js":"11","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\cart\\Shipping.js":"12","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\cart\\Cart.js":"13","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\layout\\Footer.js":"14","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\layout\\Header.js":"15","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\user\\UpdateProfile.js":"16","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\user\\Register.js":"17","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\user\\UpdatePassword.js":"18","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\order\\ListOrders.js":"19","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\order\\OrderDetails.js":"20","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\ProductsList.js":"21","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\Dashboard.js":"22","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\OrdersList.js":"23","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\LookAccount.js":"24","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\ProductReviews.js":"25","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\NewProduct.js":"26","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\UpdateUser.js":"27","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\UsersList.js":"28","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\UpdateProduct.js":"29","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\ProcessOrder.js":"30","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\product\\ProductDetails.js":"31","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\user\\Login.js":"32","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\user\\Profile.js":"33","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\route\\ProtectedRoute.js":"34","D:\\Thực tập\\Fruit2\\frontend\\src\\actions\\userActions.js":"35","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\layout\\MetaData.js":"36","D:\\Thực tập\\Fruit2\\frontend\\src\\actions\\productActions.js":"37","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\cart\\CheckoutSteps.js":"38","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\layout\\Slider.js":"39","D:\\Thực tập\\Fruit2\\frontend\\src\\actions\\orderActions.js":"40","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\product\\Product.js":"41","D:\\Thực tập\\Fruit2\\frontend\\src\\actions\\cartActions.js":"42","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\layout\\Loader.js":"43","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\Sidebar.js":"44","D:\\Thực tập\\Fruit2\\frontend\\src\\constants\\orderConstants.js":"45","D:\\Thực tập\\Fruit2\\frontend\\src\\constants\\productConstants.js":"46","D:\\Thực tập\\Fruit2\\frontend\\src\\constants\\cartConstants.js":"47","D:\\Thực tập\\Fruit2\\frontend\\src\\constants\\userConstants.js":"48","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\review\\ListReviews.js":"49","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\ChartIncome.js":"50","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\layout\\Search.js":"51","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\Chart.js":"52"},{"size":713,"mtime":1700039940972,"results":"53","hashOfConfig":"54"},{"size":1779,"mtime":1700039940974,"results":"55","hashOfConfig":"54"},{"size":5254,"mtime":1700039940962,"results":"56","hashOfConfig":"54"},{"size":4134,"mtime":1700039940973,"results":"57","hashOfConfig":"54"},{"size":7273,"mtime":1700039940974,"results":"58","hashOfConfig":"54"},{"size":6175,"mtime":1700039940974,"results":"59","hashOfConfig":"54"},{"size":1144,"mtime":1700146838289,"results":"60","hashOfConfig":"54"},{"size":14544,"mtime":1717335299084,"results":"61","hashOfConfig":"54"},{"size":9751,"mtime":1700057255112,"results":"62","hashOfConfig":"54"},{"size":4168,"mtime":1700039940967,"results":"63","hashOfConfig":"54"},{"size":969,"mtime":1700039940967,"results":"64","hashOfConfig":"54"},{"size":4695,"mtime":1700039940968,"results":"65","hashOfConfig":"54"},{"size":6240,"mtime":1700039940967,"results":"66","hashOfConfig":"54"},{"size":3656,"mtime":1700056716813,"results":"67","hashOfConfig":"54"},{"size":3690,"mtime":1700039940968,"results":"68","hashOfConfig":"54"},{"size":5309,"mtime":1700039940971,"results":"69","hashOfConfig":"54"},{"size":5944,"mtime":1717333454628,"results":"70","hashOfConfig":"54"},{"size":3036,"mtime":1700039940971,"results":"71","hashOfConfig":"54"},{"size":2880,"mtime":1700039940970,"results":"72","hashOfConfig":"54"},{"size":4005,"mtime":1700039940970,"results":"73","hashOfConfig":"54"},{"size":5709,"mtime":1700039940966,"results":"74","hashOfConfig":"54"},{"size":13742,"mtime":1700039940964,"results":"75","hashOfConfig":"54"},{"size":3958,"mtime":1700039940964,"results":"76","hashOfConfig":"54"},{"size":4431,"mtime":1700039940964,"results":"77","hashOfConfig":"54"},{"size":5285,"mtime":1700039940966,"results":"78","hashOfConfig":"54"},{"size":8663,"mtime":1700039940964,"results":"79","hashOfConfig":"54"},{"size":4863,"mtime":1700039940967,"results":"80","hashOfConfig":"54"},{"size":4568,"mtime":1700039940967,"results":"81","hashOfConfig":"54"},{"size":9756,"mtime":1700039940966,"results":"82","hashOfConfig":"54"},{"size":6655,"mtime":1700039940966,"results":"83","hashOfConfig":"54"},{"size":10345,"mtime":1717339285041,"results":"84","hashOfConfig":"54"},{"size":3406,"mtime":1717333454628,"results":"85","hashOfConfig":"54"},{"size":2172,"mtime":1700039940971,"results":"86","hashOfConfig":"54"},{"size":951,"mtime":1700039940971,"results":"87","hashOfConfig":"54"},{"size":7204,"mtime":1717333454626,"results":"88","hashOfConfig":"54"},{"size":219,"mtime":1700039940968,"results":"89","hashOfConfig":"54"},{"size":6164,"mtime":1700039940963,"results":"90","hashOfConfig":"54"},{"size":1870,"mtime":1700039940967,"results":"91","hashOfConfig":"54"},{"size":2265,"mtime":1700039940969,"results":"92","hashOfConfig":"54"},{"size":3274,"mtime":1700039940963,"results":"93","hashOfConfig":"54"},{"size":1616,"mtime":1700039940970,"results":"94","hashOfConfig":"54"},{"size":1071,"mtime":1716568674729,"results":"95","hashOfConfig":"54"},{"size":209,"mtime":1700039940968,"results":"96","hashOfConfig":"54"},{"size":1214,"mtime":1700039940966,"results":"97","hashOfConfig":"54"},{"size":1186,"mtime":1700039940972,"results":"98","hashOfConfig":"54"},{"size":1946,"mtime":1700039940972,"results":"99","hashOfConfig":"54"},{"size":148,"mtime":1700039940972,"results":"100","hashOfConfig":"54"},{"size":2264,"mtime":1700039940972,"results":"101","hashOfConfig":"54"},{"size":1264,"mtime":1700039940970,"results":"102","hashOfConfig":"54"},{"size":1334,"mtime":1700039940964,"results":"103","hashOfConfig":"54"},{"size":1066,"mtime":1700056576075,"results":"104","hashOfConfig":"54"},{"size":783,"mtime":1700039940964,"results":"105","hashOfConfig":"54"},{"filePath":"106","messages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},"or7z70",{"filePath":"109","messages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"111","messages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"113","messages":"114","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"115","messages":"116","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"117","messages":"118","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"119","messages":"120","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"121","messages":"122","errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"123","usedDeprecatedRules":"108"},{"filePath":"124","messages":"125","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"126","messages":"127","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"128","messages":"129","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"130","messages":"131","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"132","messages":"133","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"134","messages":"135","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"136","usedDeprecatedRules":"108"},{"filePath":"137","messages":"138","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"139","messages":"140","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"141","messages":"142","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"143","messages":"144","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"145","messages":"146","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"147","messages":"148","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"149","messages":"150","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"151","messages":"152","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"153","messages":"154","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"155","messages":"156","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"157","messages":"158","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"159","messages":"160","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"161","messages":"162","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"163","messages":"164","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"165","messages":"166","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"167","messages":"168","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"169","messages":"170","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"171","messages":"172","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"173","messages":"174","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"175","messages":"176","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"177","messages":"178","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"179","messages":"180","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"181","messages":"182","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"183","messages":"184","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"185","messages":"186","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"187","messages":"188","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"189","messages":"190","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"191","messages":"192","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"193","messages":"194","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"195","messages":"196","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"197","messages":"198","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"199","messages":"200","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"201","messages":"202","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"203","messages":"204","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"205","messages":"206","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"207","messages":"208","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"209","messages":"210","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"211","messages":"212","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},"D:\\Thực tập\\Fruit2\\frontend\\src\\index.js",[],["213","214"],"D:\\Thực tập\\Fruit2\\frontend\\src\\store.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\App.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\reducers\\orderReducers.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\reducers\\productReducers.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\reducers\\userReducers.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\reducers\\cartReducers.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\cart\\Payment.js",["215","216","217","218","219","220","221","222","223"],"import React, { Fragment, useEffect, useState } from \"react\";\r\n\r\nimport MetaData from \"../layout/MetaData\";\r\nimport CheckoutSteps from \"./CheckoutSteps\";\r\n\r\nimport { useAlert } from \"react-alert\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { createOrder, clearErrors } from \"../../actions/orderActions\";\r\n// import StyleCheckoutQR from \"./PaymentStyled\";\r\n\r\nimport {\r\n  useStripe,\r\n  useElements,\r\n  CardNumberElement,\r\n  CardExpiryElement,\r\n  CardCvcElement,\r\n} from \"@stripe/react-stripe-js\";\r\nimport moment from \"moment\";\r\n\r\nimport axios from \"axios\";\r\nimport { use } from \"express/lib/application\";\r\n\r\nconst options = {\r\n  style: {\r\n    base: {\r\n      fontSize: \"16px\",\r\n    },\r\n    invalid: {\r\n      color: \"#9e2146\",\r\n    },\r\n  },\r\n};\r\n\r\nconst Payment = ({ history }) => {\r\n  const alert = useAlert();\r\n  const [pricePaid, setPricePaid] = useState(null);\r\n  const [contentPaid, setContentPaid] = useState(null);\r\n\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const dispatch = useDispatch();\r\n  const today = moment();\r\n  const { user } = useSelector((state) => state.auth);\r\n\r\n  const { cartItems, shippingInfo } = useSelector((state) => state.cart);\r\n  const { error } = useSelector((state) => state.newOrder);\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      alert.error(error);\r\n      dispatch(clearErrors());\r\n    }\r\n  }, [dispatch, alert, error]);\r\n\r\n  // cart, ship info\r\n  const order = {\r\n    orderItems: cartItems,\r\n    shippingInfo,\r\n  };\r\n\r\n  const orderInfo = JSON.parse(sessionStorage.getItem(\"orderInfo\"));\r\n  if (orderInfo) {\r\n    order.itemsPrice = orderInfo.itemsPrice;\r\n    order.shippingPrice = orderInfo.shippingPrice;\r\n    order.taxPrice = orderInfo.taxPrice;\r\n    order.totalPrice = orderInfo.totalPrice;\r\n  }\r\n\r\n  const paymentData = {\r\n    amount: Math.round(orderInfo.totalPrice * 100), // total price\r\n  };\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    document.querySelector(\"#pay_btn\").disabled = true; // tìm kiếm các phần tử dựa trên id\r\n\r\n    let res;\r\n    try {\r\n      const config = {\r\n        // config header type\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      };\r\n\r\n      res = await axios.post(\"/api/v1/payment/process\", paymentData, config); // call api paymant process\r\n\r\n      const clientSecret = res.data.client_secret; // client_secret json client\r\n\r\n      console.log(clientSecret);\r\n\r\n      if (!stripe || !elements) {\r\n        // data input payment stripe\r\n        return;\r\n      }\r\n\r\n      const result = await stripe.confirmCardPayment(clientSecret, {\r\n        // Xác thực card info\r\n        payment_method: {\r\n          card: elements.getElement(CardNumberElement),\r\n          billing_details: {\r\n            // chi tiết thanh toán\r\n            name: user.name,\r\n            email: user.email,\r\n          },\r\n        },\r\n      });\r\n\r\n      if (result.error) {\r\n        alert.error(result.error.message); // return alert error\r\n        document.querySelector(\"#pay_btn\").disabled = false; // disabled btn\r\n      } else {\r\n        // Thanh toán có được xử lý hay không?\r\n        if (result.paymentIntent.status === \"succeeded\") {\r\n          // if success\r\n\r\n          order.paymentInfo = {\r\n            // payment with info cart, shipInfo\r\n            id: result.paymentIntent.id,\r\n            status: result.paymentIntent.status,\r\n          };\r\n\r\n          dispatch(createOrder(order)); // call createOrder action\r\n\r\n          history.push(\"/success\"); // return page success\r\n        } else {\r\n          alert.error(\"Có một số vấn đề trong khi xử lý thanh toán\");\r\n        }\r\n      }\r\n    } catch (error) {\r\n      // error server\r\n      document.querySelector(\"#pay_btn\").disabled = false;\r\n      alert.error(error.response.data.message);\r\n    }\r\n  };\r\n  const MY_BANK = {\r\n    BANK_ID: \"MB\",\r\n    ACCOUNT_NO: \"3200368278483\",\r\n    ACCOUNT_NAME: \"DO VAN CHUYEN\",\r\n  };\r\n\r\n  const QR = `https://img.vietqr.io/image/${MY_BANK.BANK_ID}-${MY_BANK.ACCOUNT_NO}-compact2.png?amount=${orderInfo.totalPrice}&addInfo=DTBV${user._id}${orderInfo._id}&accountName=${MY_BANK.ACCOUNT_NAME}`;\r\n  const checkPaid = () => {\r\n    axios\r\n      .get(\r\n        \"https://script.google.com/macros/s/AKfycbx3wKJ32LukcVALYo1j6-vN5zj7d8pyPPCnH9vtTALjzcSC1vc7xHeyUfSrtLISZ1zp/exec\"\r\n      )\r\n      .then((res) => {\r\n        const paid = res.data.data[res.data.data.length - 1];\r\n        setPricePaid(paid[\"Giá trị\"]);\r\n        setContentPaid(paid[\"Mô tả\"]);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"API call error:\", error);\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    // checkPaid();\r\n    let intervalId: any;\r\n    intervalId = setInterval(() => {\r\n      checkPaid();\r\n    }, 2000);\r\n    return () => {\r\n      clearInterval(intervalId);\r\n    };\r\n  }, []);\r\n  useEffect(() => {\r\n    if (\r\n      pricePaid === orderInfo.totalPrice &&\r\n      contentPaid?.split(\" \")[0] === `DTBV${user._id}${orderInfo._id}`\r\n    ) {\r\n      history.push(\"/success\");\r\n\r\n      // clearInterval(intervalId);\r\n    }\r\n  }, [pricePaid, contentPaid]);\r\n  return (\r\n    <div>\r\n      <h3 className=\"title-checkqr\">Thanh toán</h3>\r\n      <div className=\"box\">\r\n        <p className=\"thanks\">Cảm ơn bạn. Đơn hàng của bạn đã được nhận.</p>\r\n        <ul className=\"woocommerce-order-overview woocommerce-thankyou-order-details order_details\">\r\n          <li className=\"woocommerce-order-overview__order order\">\r\n            Mã đơn hàng:{\" \"}\r\n            <strong>\r\n              DTBV{user._id}\r\n              {orderInfo._id}\r\n            </strong>\r\n          </li>\r\n          <li className=\"woocommerce-order-overview__date date\">\r\n            Ngày: <strong>{today.format(\"DD-MM-yyyy\")}</strong>\r\n          </li>\r\n          <li className=\"woocommerce-order-overview__total total\">\r\n            Tổng cộng:{\" \"}\r\n            <strong>\r\n              <span className=\"woocommerce-Price-amount amount\">\r\n                <bdi>\r\n                  {orderInfo.totalPrice}&nbsp;\r\n                  <span className=\"woocommerce-Price-currencySymbol\">₫</span>\r\n                </bdi>\r\n              </span>\r\n            </strong>\r\n          </li>\r\n          <li className=\"woocommerce-order-overview__payment-method method\">\r\n            Phương thức thanh toán: <strong>Chuyển khoản</strong>\r\n          </li>\r\n        </ul>\r\n        <div className=\"box-qr\">\r\n          <div className=\"titleqr\">Mã QR chuyển khoản ngân hàng</div>\r\n          <div\r\n            style={{ display: \"flex\", justifyContent: \"center\", width: \"100%\" }}\r\n          >\r\n            <img style={{ width: \"300px\" }} src={QR} alt=\"\" />\r\n          </div>\r\n          <table\r\n            className=\"table table-bordered\"\r\n            style={{\r\n              fontSize: \"15px\",\r\n              maxWidth: \"800px\",\r\n              marginLeft: \"auto\",\r\n              marginRight: \"auto\",\r\n            }}\r\n          >\r\n            <tbody>\r\n              <tr className=\"\">\r\n                <td className=\"text-right \" style={{ textAlign: \"right\" }}>\r\n                  <strong style={{ color: \"black\" }}>Tên tài khoản:</strong>\r\n                </td>\r\n                <td\r\n                  className=\"text-left payment-instruction \"\r\n                  style={{ textAlign: \"left\" }}\r\n                >\r\n                  <div>\r\n                    <span style={{ color: \"black\" }}>\r\n                      {MY_BANK.ACCOUNT_NAME}\r\n                    </span>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n              <tr className=\"\" style={{ background: \"#FBFBFB\" }}>\r\n                <td className=\"text-right \" style={{ textAlign: \"right\" }}>\r\n                  <strong style={{ color: \"black\" }}>Số tài khoản:</strong>\r\n                </td>\r\n                <td\r\n                  className=\"text-left payment-instruction \"\r\n                  style={{ textAlign: \"left\" }}\r\n                >\r\n                  <span style={{ color: \"black\" }}>{MY_BANK.ACCOUNT_NO}</span>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td className=\"text-right \" style={{ textAlign: \"right\" }}>\r\n                  <strong style={{ color: \"black\" }}>Ngân hàng:</strong>\r\n                </td>\r\n                <td\r\n                  className=\"text-left payment-instruction \"\r\n                  style={{ textAlign: \"left\" }}\r\n                >\r\n                  <div>\r\n                    <span style={{ color: \"black\" }}>{MY_BANK.BANK_ID}</span>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td className=\"text-right \" style={{ textAlign: \"right\" }}>\r\n                  <strong style={{ color: \"black\" }}>Số tiền:</strong>\r\n                </td>\r\n                <td\r\n                  className=\"text-left payment-instruction \"\r\n                  style={{ textAlign: \"left\" }}\r\n                >\r\n                  <div ng-switch-when=\"vcb\" className=\"ng-scope\">\r\n                    <span style={{ color: \"black\" }}>\r\n                      {orderInfo.totalPrice} <sup>vnđ</sup>\r\n                    </span>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n              <tr className=\"\">\r\n                <td className=\"text-right \" style={{ textAlign: \"right\" }}>\r\n                  <strong style={{ color: \"black\" }}>Nội dung*:</strong>\r\n                </td>\r\n                <td\r\n                  className=\"text-left payment-instruction \"\r\n                  style={{ textAlign: \"left\" }}\r\n                >\r\n                  <strong style={{ fontSize: \"20px\" }}>\r\n                    DTBV{user._id}\r\n                    {orderInfo._id}\r\n                  </strong>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              width: \"100%\",\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            <button className=\"btn-pay\">Tôi đã thanh toán</button>\r\n          </div>\r\n        </div>\r\n        {/* <section className=\"woocommerce-order-details\">\r\n          <h2 className=\"woocommerce-order-details__title\">\r\n            Chi tiết đơn hàng\r\n          </h2>\r\n          <table className=\"woocommerce-table woocommerce-table--order-details shop_table order_details\">\r\n            <thead>\r\n              <tr>\r\n                <th className=\"woocommerce-table__product-name product-name\">\r\n                  Sản phẩm\r\n                </th>\r\n                <th className=\"woocommerce-table__product-table product-total\">\r\n                  Tổng\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {listCart.map((item: any, index: any) => (\r\n                <tr className=\"woocommerce-table__line-item order_item\">\r\n                  <td className=\"woocommerce-table__product-name product-name\">\r\n                    <Link\r\n                      className=\"link\"\r\n                      to=\"https://store.masteranhduc.com/product/sach-truoc-binh-minh/\"\r\n                    >\r\n                      {item.title}\r\n                    </Link>{\" \"}\r\n                    <strong className=\"product-quantity\">\r\n                      ×&nbsp;{item.quantity}\r\n                    </strong>{\" \"}\r\n                  </td>\r\n                  <td className=\"woocommerce-table__product-total product-total\">\r\n                    <span className=\"woocommerce-Price-amount amount\">\r\n                      <bdi>\r\n                        {item.price * item.quantity}&nbsp;\r\n                        <span className=\"woocommerce-Price-currencySymbol\">\r\n                          ₫\r\n                        </span>\r\n                      </bdi>\r\n                    </span>{\" \"}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n            <tfoot>\r\n              <tr>\r\n                <th scope=\"row\">Phương thức thanh toán:</th>\r\n                <td>Chuyển khoản</td>\r\n              </tr>\r\n              <tr>\r\n                <th scope=\"row\">Tổng cộng:</th>\r\n                <td>\r\n                  <span className=\"woocommerce-Price-amount amount\">\r\n                    {totalPrice}&nbsp;\r\n                    <span className=\"woocommerce-Price-currencySymbol\">₫</span>\r\n                  </span>\r\n                </td>\r\n              </tr>\r\n            </tfoot>\r\n          </table>\r\n        </section> */}\r\n      </div>\r\n      <button className=\"btnDownloadQR\">\r\n        <div\r\n          style={{\r\n            width: \"100%\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"flex-start\",\r\n          }}\r\n        >\r\n          <svg\r\n            width=\"32\"\r\n            height=\"32\"\r\n            viewBox=\"0 0 32 32\"\r\n            fill=\"none\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n          >\r\n            <path d=\"M3 3H11V1H1V11H3V3Z\" fill=\"white\"></path>\r\n            <path d=\"M11 11V5H5V11H11ZM7 7H9V9H7V7Z\" fill=\"white\"></path>\r\n            <path d=\"M20.5 3H29V11H31V1H20.5V3Z\" fill=\"white\"></path>\r\n            <path d=\"M27 11V5H21V11H27ZM23 7H25V9H23V7Z\" fill=\"white\"></path>\r\n            <path d=\"M11 29H3V21H1V31H11V29Z\" fill=\"white\"></path>\r\n            <path d=\"M11 21H5V27H11V21ZM9 25H7V23H9V25Z\" fill=\"white\"></path>\r\n            <path d=\"M29 29H20.5V31H31V21H29V29Z\" fill=\"white\"></path>\r\n            <path d=\"M17 19H25V23H27V17H17V19Z\" fill=\"white\"></path>\r\n            <path d=\"M27 27V25H15V17H5V19H13V27H27Z\" fill=\"white\"></path>\r\n            <path d=\"M13 5H15V11H13V5Z\" fill=\"white\"></path>\r\n            <path d=\"M5 15H19V5H17V13H5V15Z\" fill=\"white\"></path>\r\n            <path d=\"M21 13H27V15H21V13Z\" fill=\"white\"></path>\r\n            <path d=\"M21 21H23V23H21V21Z\" fill=\"white\"></path>\r\n            <path d=\"M17 21H19V23H17V21Z\" fill=\"white\"></path>\r\n          </svg>\r\n          <div style={{ marginLeft: \"16px\", textAlign: \"left\" }}>\r\n            <span\r\n              style={{\r\n                display: \"block\",\r\n                fontSize: \"16px\",\r\n                fontWeight: \"bold\",\r\n              }}\r\n            >\r\n              LƯU ẢNH QR\r\n            </span>\r\n            <span style={{ fontSize: \"12px\" }}>\r\n              <i> Sau đó mở App ngân hàng quét QR chuyển khoản</i>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Payment;\r\n","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\Home.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\cart\\ConfirmOrder.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\cart\\OrderSuccess.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\cart\\Shipping.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\cart\\Cart.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\layout\\Footer.js",["224"],"import React, { Fragment } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <Fragment>\r\n      <footer className=\"footer\">\r\n        {/* Footer Top */}\r\n        <br/>\r\n        <div className=\"footer-top section\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-5 col-md-6 col-12\">\r\n                {/* Single Widget */}\r\n                <div className=\"single-footer about\">\r\n                  <div className=\"logo\">\r\n                    <a href=\"index.html\"><img src=\"/images/logo.png\" alt=\"#\" /></a>\r\n                  </div>\r\n                  <p className=\"text\">Website bán hàng trực tuyến của Thắng Long Store, hỗ trợ 24/7 cùng nhiều ưu đẫi hấp dẫn. Luôn luôn cập nhật mới nhiều sản phẩm.</p>\r\n                  <p className=\"text\">Cần hỗ trợ liên hệ với chúng tôi: <span><a href=\"tel:123456789\">+0123 456 789</a></span></p>\r\n                </div>\r\n                {/* End Single Widget */}\r\n              </div>\r\n              <div className=\"col-lg-2 col-md-6 col-12\">\r\n                {/* Single Widget */}\r\n                <div className=\"single-footer links\">\r\n                  <h4>Thông tin</h4>\r\n                  <ul>\r\n                    <li>Về chúng tôi</li>\r\n                    <li>Điều khoản và điều kiện</li>\r\n                    <li>Liên hệ với chúng tôi</li>\r\n                    <li>Giúp đỡ</li>\r\n                  </ul>\r\n                </div>\r\n                {/* End Single Widget */}\r\n              </div>\r\n              <div className=\"col-lg-2 col-md-6 col-12\">\r\n                {/* Single Widget */}\r\n                <div className=\"single-footer links\">\r\n                  <h4>Dịch vụ khách hàng</h4>\r\n                  <ul>\r\n                    <li>Phương thức thanh toán</li>\r\n                    <li>Hoàn tiền</li>\r\n                    <li>Giao hàng</li>\r\n                    <li>Điều khoản và bảo mật</li>\r\n                  </ul>\r\n                </div>\r\n                {/* End Single Widget */}\r\n              </div>\r\n              <div className=\"col-lg-3 col-md-6 col-12\">\r\n                {/* Single Widget */}\r\n                <div className=\"single-footer social\">\r\n                  <h4>Thông tin</h4>\r\n                  {/* Single Widget */}\r\n                  <div className=\"contact\">\r\n                    <ul>\r\n                      <li>Số 263 Dã Tượng, Nha Trang, Khánh Hòa</li>\r\n                      <li>Nhóm 3</li>\r\n                      <li>info@tltore.com</li>\r\n                      <li>+012 3456 7890</li>\r\n                    </ul>\r\n                  </div>\r\n                  {/* End Single Widget */}\r\n                  <ul>\r\n                  </ul>\r\n                </div>\r\n                {/* End Single Widget */}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* End Footer Top */}\r\n        <div className=\"copyright\">\r\n          <div className=\"container\">\r\n            <div className=\"inner\">\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-12 col-12\">\r\n                  <div className=\"text-center\">\r\n                    <p>Copyright © 2022 By Nhóm 3</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-lg-6 col-12\">\r\n                  <div className=\"right\">\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </footer>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","D:\\Thực tập\\Fruit2\\frontend\\src\\components\\layout\\Header.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\user\\UpdateProfile.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\user\\Register.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\user\\UpdatePassword.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\order\\ListOrders.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\order\\OrderDetails.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\ProductsList.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\Dashboard.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\OrdersList.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\LookAccount.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\ProductReviews.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\NewProduct.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\UpdateUser.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\UsersList.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\UpdateProduct.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\ProcessOrder.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\product\\ProductDetails.js",["225"],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\user\\Login.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\user\\Profile.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\route\\ProtectedRoute.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\actions\\userActions.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\layout\\MetaData.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\actions\\productActions.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\cart\\CheckoutSteps.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\layout\\Slider.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\actions\\orderActions.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\product\\Product.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\actions\\cartActions.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\layout\\Loader.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\Sidebar.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\constants\\orderConstants.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\constants\\productConstants.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\constants\\cartConstants.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\constants\\userConstants.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\review\\ListReviews.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\ChartIncome.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\layout\\Search.js",[],"D:\\Thực tập\\Fruit2\\frontend\\src\\components\\admin\\Chart.js",[],{"ruleId":"226","replacedBy":"227"},{"ruleId":"228","replacedBy":"229"},{"ruleId":"230","severity":1,"message":"231","line":1,"column":17,"nodeType":"232","messageId":"233","endLine":1,"endColumn":25},{"ruleId":"230","severity":1,"message":"234","line":3,"column":8,"nodeType":"232","messageId":"233","endLine":3,"endColumn":16},{"ruleId":"230","severity":1,"message":"235","line":4,"column":8,"nodeType":"232","messageId":"233","endLine":4,"endColumn":21},{"ruleId":"230","severity":1,"message":"236","line":15,"column":3,"nodeType":"232","messageId":"233","endLine":15,"endColumn":20},{"ruleId":"230","severity":1,"message":"237","line":16,"column":3,"nodeType":"232","messageId":"233","endLine":16,"endColumn":17},{"ruleId":"230","severity":1,"message":"238","line":21,"column":10,"nodeType":"232","messageId":"233","endLine":21,"endColumn":13},{"ruleId":"230","severity":1,"message":"239","line":23,"column":7,"nodeType":"232","messageId":"233","endLine":23,"endColumn":14},{"ruleId":"230","severity":1,"message":"240","line":73,"column":9,"nodeType":"232","messageId":"233","endLine":73,"endColumn":22},{"ruleId":"241","severity":1,"message":"242","line":177,"column":6,"nodeType":"243","endLine":177,"endColumn":30,"suggestions":"244"},{"ruleId":"230","severity":1,"message":"245","line":2,"column":10,"nodeType":"232","messageId":"233","endLine":2,"endColumn":14},{"ruleId":"230","severity":1,"message":"246","line":20,"column":9,"nodeType":"232","messageId":"233","endLine":20,"endColumn":13},"no-native-reassign",["247"],"no-negated-in-lhs",["248"],"no-unused-vars","'Fragment' is defined but never used.","Identifier","unusedVar","'MetaData' is defined but never used.","'CheckoutSteps' is defined but never used.","'CardExpiryElement' is defined but never used.","'CardCvcElement' is defined but never used.","'use' is defined but never used.","'options' is assigned a value but never used.","'submitHandler' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'history', 'orderInfo._id', 'orderInfo.totalPrice', and 'user._id'. Either include them or remove the dependency array.","ArrayExpression",["249"],"'Link' is defined but never used.","'next' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"250","fix":"251"},"Update the dependencies array to be: [pricePaid, contentPaid, orderInfo.totalPrice, orderInfo._id, user._id, history]",{"range":"252","text":"253"},[5057,5081],"[pricePaid, contentPaid, orderInfo.totalPrice, orderInfo._id, user._id, history]"]